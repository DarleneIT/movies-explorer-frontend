{"ast":null,"code":"var _jsxFileName = \"/Users/darlene/Desktop/dev/diploma/movies-explorer-frontend/frontend/src/components/Movies/SearchForm/SearchForm.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"./SearchForm.css\";\nimport { useEffect, useContext } from 'react';\nimport useFormWithValidation from '../../../hooks/useForm';\nimport { useLocation } from 'react-router-dom';\nimport ErrorContext from '../../../contexts/ErrorContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchForm({\n  isCheck,\n  changeShort,\n  searchedMovie,\n  searchMovies,\n  setIsError,\n  firstEntrance,\n  savedMovie\n}) {\n  _s();\n  const {\n    pathname\n  } = useLocation();\n  const isError = useContext(ErrorContext);\n  const {\n    values,\n    handleChange,\n    reset\n  } = useFormWithValidation();\n  useEffect(() => {\n    if (pathname === '/saved-movies' && savedMovie.length === 0) {\n      reset({\n        search: ''\n      });\n    } else {\n      reset({\n        search: searchedMovie\n      });\n    }\n    setIsError(false);\n  }, [searchedMovie, reset, setIsError, pathname, savedMovie]);\n  function onSubmit(evt) {\n    evt.preventDefault();\n    if (evt.target.search.value) {\n      searchMovies(evt.target.search.value);\n      setIsError(false);\n    } else {\n      setIsError(true);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"search\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"search__form\",\n      name: 'SearchForm',\n      onSubmit: onSubmit,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search__box\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search__input\",\n          placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u043C\",\n          required: true,\n          type: \"text\",\n          name: \"search\",\n          value: values.search || '',\n          onChange: evt => {\n            handleChange(evt);\n            setIsError(false);\n          },\n          disabled: savedMovie ? savedMovie.length === 0 && true : false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `search__button ${savedMovie ? pathname === '/saved-movies' && savedMovie.length === 0 && 'search__submit_disabled' : ''}`,\n          type: \"submit\",\n          children: \"\\u041D\\u0430\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search__checkbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"search__tumbler\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"search__slider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search__tumbler-title\",\n          children: \"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchForm, \"3E2XFFkdARBOyuyX7JD6h/YuWgs=\", false, function () {\n  return [useLocation, useFormWithValidation];\n});\n_c = SearchForm;\nexport default SearchForm;\nvar _c;\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"names":["React","useEffect","useContext","useFormWithValidation","useLocation","ErrorContext","jsxDEV","_jsxDEV","SearchForm","isCheck","changeShort","searchedMovie","searchMovies","setIsError","firstEntrance","savedMovie","_s","pathname","isError","values","handleChange","reset","length","search","onSubmit","evt","preventDefault","target","value","className","children","name","noValidate","placeholder","required","type","onChange","disabled","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/darlene/Desktop/dev/diploma/movies-explorer-frontend/frontend/src/components/Movies/SearchForm/SearchForm.js"],"sourcesContent":["import React from \"react\";\nimport \"./SearchForm.css\";\n\nimport { useEffect, useContext } from 'react'\nimport useFormWithValidation from '../../../hooks/useForm'\nimport { useLocation } from 'react-router-dom'\n\nimport ErrorContext from '../../../contexts/ErrorContext'\n\nfunction SearchForm({ isCheck, changeShort, searchedMovie, searchMovies, setIsError, firstEntrance, savedMovie }) {\n\n  const { pathname } = useLocation()\n  const isError = useContext(ErrorContext)\n  const { values, handleChange, reset } = useFormWithValidation()\n\n  useEffect(() => {\n    if ((pathname === '/saved-movies' && savedMovie.length === 0)) {\n      reset({ search: '' })\n    } else {\n      reset({ search: searchedMovie })\n    }\n    setIsError(false)\n  }, [searchedMovie, reset, setIsError, pathname, savedMovie])\n\n  function onSubmit(evt) {\n    evt.preventDefault()\n    if (evt.target.search.value) {\n      searchMovies(evt.target.search.value)\n      setIsError(false)\n    } else {\n      setIsError(true)\n    }\n  }\n\n  return (\n    <section className=\"search\">\n      <form \n        className=\"search__form\"\n        name={'SearchForm'} \n        onSubmit={onSubmit}\n        noValidate\n      >\n        <div className=\"search__box\">\n          <input \n            className=\"search__input\" \n            placeholder=\"Фильм\" \n            required\n            \n            type=\"text\"\n            name='search'\n            value={values.search || ''}\n            onChange={(evt) => {\n              handleChange(evt)\n              setIsError(false)\n            }}\n\n            disabled={savedMovie ? (savedMovie.length === 0 && true) : false}\n            >\n          </input>\n\n          <button className={`search__button ${savedMovie ? (pathname === '/saved-movies' && savedMovie.length === 0) && 'search__submit_disabled' : ''}`} type=\"submit\">\n            Найти\n          </button>\n\n        </div>\n\n      \n        <div className=\"search__checkbox\">\n          <label className=\"search__tumbler\">\n            <input type=\"checkbox\" />\n            <span className=\"search__slider\"></span>\n          </label>\n          <p className=\"search__tumbler-title\">Короткометражки</p>\n        </div>\n      </form>\n    </section>\n  );\n}\n\nexport default SearchForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}