{"ast":null,"code":"var _jsxFileName = \"/Users/darlene/Desktop/dev/diploma/movies-explorer-frontend/frontend/src/components/Movies/MoviesCardList/MoviesCardList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport \"./MoviesCardList.css\";\nimport MoviesCard from \"../MoviesCard/MoviesCard.js\";\nimport Preloader from \"../../Preloader/Preloader.js\";\nimport \"../../../utils/constants.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MoviesCardList({\n  movies,\n  onDislike,\n  onLike,\n  savedMovies,\n  isLoading,\n  serverError,\n  firstEntrance\n}) {\n  _s();\n  const {\n    pathname\n  } = useLocation();\n  const [count, setCount] = useState('');\n  const fact = movies.slice(0, count);\n  function printCards() {\n    const counter = {\n      init: InitMoreMaxScreen,\n      step: StepMaxScreen\n    };\n    if (window.innerWidth < MaxScreen) {\n      counter.init = InitLessMaxScreen;\n      counter.step = StepMediumScreen;\n    }\n    if (window.innerWidth < MediumScreen) {\n      counter.init = InitMediumScreen;\n      counter.step = StepSmallScreen;\n    }\n    if (window.innerWidth < SmallScreen) {\n      counter.init = InitSmallScreen;\n      counter.step = StepSmallScreen;\n    }\n    return counter;\n  }\n  useEffect(() => {\n    if (pathname === '/movies') {\n      setCount(printCards().init);\n      function printCardsForResize() {\n        if (window.innerWidth >= StepMaxScreen) {\n          setCount(printCards().init);\n        }\n        if (window.innerWidth < StepMaxScreen) {\n          setCount(printCards().init);\n        }\n        if (window.innerWidth < MediumScreen) {\n          setCount(printCards().init);\n        }\n        if (window.innerWidth < SmallScreen) {\n          setCount(printCards().init);\n        }\n      }\n      window.addEventListener('resize', printCardsForResize);\n      return () => window.removeEventListener('resize', printCardsForResize);\n    }\n  }, [pathname, movies]);\n  function clickMore() {\n    setCount(count + printCards().step);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"movies-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movies-card__box\",\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 14\n      }, this) : pathname === '/movies' && fact.length !== 0 ? fact.map(card => {\n        return /*#__PURE__*/_jsxDEV(MoviesCard, {\n          savedMovies: savedMovies,\n          onLike: onLike,\n          card: card\n        }, card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this);\n      }) : movies.length !== 0 ? movies.map(card => {\n        return /*#__PURE__*/_jsxDEV(MoviesCard, {\n          onDislike: onDislike,\n          card: card\n        }, card._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, this);\n      }) : serverError ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"gallery__serch-error\",\n        children: \"\\xAB\\u0412\\u043E \\u0432\\u0440\\u0435\\u043C\\u044F \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430. \\u0412\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E, \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0430 \\u0441 \\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0435\\u043D\\u0438\\u0435\\u043C \\u0438\\u043B\\u0438 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440 \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D. \\u041F\\u043E\\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0435\\u043C\\u043D\\u043E\\u0433\\u043E \\u0438 \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437\\xBB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"gallery__serch-error\",\n        children: \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), pathname === '/movies' && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: `gallery__more ${count >= movies.length && 'gallery__more_hidden'}`,\n      onClick: clickMore,\n      children: \"\\u0401\\u0449\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(MoviesCardList, \"mGRitxqa0/jI0cyiwawmfgrF+lg=\", false, function () {\n  return [useLocation];\n});\n_c = MoviesCardList;\nexport default MoviesCardList;\nvar _c;\n$RefreshReg$(_c, \"MoviesCardList\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","MoviesCard","Preloader","jsxDEV","_jsxDEV","MoviesCardList","movies","onDislike","onLike","savedMovies","isLoading","serverError","firstEntrance","_s","pathname","count","setCount","fact","slice","printCards","counter","init","InitMoreMaxScreen","step","StepMaxScreen","window","innerWidth","MaxScreen","InitLessMaxScreen","StepMediumScreen","MediumScreen","InitMediumScreen","StepSmallScreen","SmallScreen","InitSmallScreen","printCardsForResize","addEventListener","removeEventListener","clickMore","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","card","id","_id","type","onClick","_c","$RefreshReg$"],"sources":["/Users/darlene/Desktop/dev/diploma/movies-explorer-frontend/frontend/src/components/Movies/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React, { useEffect, useState }  from \"react\";\nimport { useLocation } from 'react-router-dom';\n\nimport \"./MoviesCardList.css\";\n\nimport MoviesCard from \"../MoviesCard/MoviesCard.js\";\nimport Preloader from \"../../Preloader/Preloader.js\"\n\nimport {\n  \n} from \"../../../utils/constants.js\";\n\n\nfunction MoviesCardList({ movies, onDislike, onLike, savedMovies, isLoading, serverError, firstEntrance }) {\n  const { pathname } = useLocation()\n  const [count, setCount] = useState('')\n  const fact = movies.slice(0, count)\n  \n  function printCards() {\n    const counter = { init: InitMoreMaxScreen, step: StepMaxScreen }\n    if (window.innerWidth < MaxScreen) {\n      counter.init = InitLessMaxScreen\n      counter.step = StepMediumScreen\n    }\n    if (window.innerWidth < MediumScreen) {\n      counter.init = InitMediumScreen\n      counter.step = StepSmallScreen\n    }\n    if (window.innerWidth < SmallScreen) {\n      counter.init = InitSmallScreen\n      counter.step = StepSmallScreen\n    }\n    return counter\n  }\n\n  useEffect(() => {\n    if (pathname === '/movies') {\n      setCount(printCards().init)\n      function printCardsForResize() {\n        if (window.innerWidth >= StepMaxScreen) {\n          setCount(printCards().init)\n        }\n        if (window.innerWidth < StepMaxScreen) {\n          setCount(printCards().init)\n        }\n        if (window.innerWidth < MediumScreen) {\n          setCount(printCards().init)\n        }\n        if (window.innerWidth < SmallScreen) {\n          setCount(printCards().init)\n        }\n      }\n      window.addEventListener('resize', printCardsForResize)\n      return () => window.removeEventListener('resize', printCardsForResize)\n    }\n  }, [pathname, movies])\n\n  function clickMore() {\n    setCount(count + printCards().step)\n  }\n  \n  return (\n    <section className=\"movies-card\">\n        <div className=\"movies-card__box\">\n\n\n{isLoading ? <Preloader /> :\n          (pathname === '/movies' && fact.length !== 0) ?\n            fact.map(card => {\n              return (\n                <MoviesCard\n                  key={card.id}\n                  savedMovies={savedMovies}\n                  onLike={onLike}\n                  card={card}\n                />\n              )\n            }) : movies.length !== 0 ?\n              movies.map(card => {\n                return (\n                  <MoviesCard\n                    key={card._id}\n                    onDislike={onDislike}\n                    card={card}\n                  />\n                )\n              }) : serverError ?\n                <span className='gallery__serch-error'>«Во время запроса произошла ошибка.\n                  Возможно, проблема с соединением или сервер недоступен.\n                  Подождите немного и попробуйте ещё раз»\n                </span>\n                : \n                <span className='gallery__serch-error'>Ничего не найдено</span>\n        }\n      </div>\n      {pathname === '/movies' && <button type='button' className={`gallery__more ${count >= movies.length && 'gallery__more_hidden'}`} onClick={clickMore}>Ёще</button>}\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}